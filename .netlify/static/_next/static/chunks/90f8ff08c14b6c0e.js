(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},60324,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(46932),i=e.i(75254);let l=(0,i.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),c=(0,i.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var n=e.i(31278),r=e.i(95468),d=e.i(41801);function o(){let[e,i]=(0,a.useState)(""),[o,u]=(0,a.useState)("idle"),{leadId:m}=(0,d.useIdentity)(),h=async t=>{if(t.preventDefault(),u("submitting"),!m){alert("Identity not found. Please rescan QR code."),u("idle");return}try{if((await fetch("/api/update-lead",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadId:m,updates:{eventFeedback:e}})})).ok)u("success");else throw Error("Failed")}catch(e){console.error(e),alert("Error submitting feedback."),u("idle")}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Event ",(0,t.jsx)("span",{className:"gradient-text",children:"Feedback"})]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Help us improve Tech Alley Henderson."})]}),"success"===o?(0,t.jsxs)(s.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center flex flex-col items-center justify-center min-h-[300px]",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-500/20 text-green-500 flex items-center justify-center mb-6",children:(0,t.jsx)(r.CheckCircle2,{size:40})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Thank You!"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Your feedback has been recorded directly to your profile."})]}):(0,t.jsxs)(s.motion.form,{onSubmit:h,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-panel p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,t.jsx)(l,{size:16,className:"text-[#9d4edd]"}),"Your Thoughts on Tonight's Event"]}),(0,t.jsx)("textarea",{required:!0,value:e,onChange:e=>i(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 min-h-[150px] focus:outline-none focus:border-[#9d4edd] text-white placeholder:text-gray-600 resize-none",placeholder:"What did you enjoy? What can we do better?"})]}),(0,t.jsxs)("button",{type:"submit",disabled:"submitting"===o,className:"w-full bg-[#9d4edd] hover:bg-[#7b2cbf] text-white font-bold py-4 rounded-xl transition-all disabled:opacity-50 flex justify-center items-center gap-2 shadow-lg shadow-purple-500/20",children:["submitting"===o?(0,t.jsx)(n.Loader2,{className:"animate-spin"}):(0,t.jsx)(c,{size:18}),"submitting"===o?"Sending...":"Submit Feedback"]})]})]})}e.s(["default",()=>o],60324)}]);